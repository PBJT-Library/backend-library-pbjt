# ===========================================
# PBJT Library Backend - Environment Configuration
# ===========================================

# -----------------
# App Settings
# -----------------
APP_PORT=3010
APP_ENV=development  # development | staging | production

# -----------------
# Database Settings
# -----------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pbjt_library
DB_USER=postgres
DB_PASSWORD=your_secure_database_password_here

# Prisma ORM - Database URL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# If not set, Prisma client will auto-compose from DB_* vars above
DATABASE_URL=postgresql://postgres:your_secure_database_password_here@localhost:5432/pbjt_library

# -----------------
# JWT Settings
# -----------------
# Generate strong secret: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d  # 1d | 7d | 30d

# -----------------
# Security Settings
# -----------------
# Comma-separated allowed origins
ALLOWED_ORIGINS=http://localhost:5173,tauri://localhost
RATE_LIMIT_DURATION=60000  # milliseconds
RATE_LIMIT_MAX=100         # requests per duration
RATE_LIMIT_AUTH_MAX=5      # login attempts per duration
ENABLE_THROTTLE=true       # true | false

# Redis Settings
# -----------------
# IMPORTANT: Use different values for local vs Docker deployment
# - Local development: localhost
# - Docker deployment: redis (service name from docker-compose.yml)
REDIS_HOST=redis
REDIS_PORT=6379
# IMPORTANT: Set strong password in production!
# Generate: openssl rand -base64 24
REDIS_PASSWORD=your_redis_password_here_leave_empty_for_dev
REDIS_DB=0

# -----------------
# Swagger/API Docs
# -----------------
# IMPORTANT: Protect Swagger in production!
SWAGGER_ENABLED=true       # Set to false in production OR protect with auth
SWAGGER_USERNAME=admin     # Username for Swagger access
SWAGGER_PASSWORD=change_this_password_in_production

# -----------------
# Monitoring & Logging
# -----------------
ENABLE_REQUEST_LOGGING=false  # Set true for debugging
LOG_LEVEL=info  # error | warn | info | debug
